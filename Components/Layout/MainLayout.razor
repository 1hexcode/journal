@using Journal.Components.Buttons
@inherits LayoutComponentBase

@layout ParentLayout

<MudPopoverProvider />

<MudAppBar Color="Color.Transparent" Elevation="0">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Primary" Edge="Edge.Start"
        OnClick="@((e) => DrawerToggle())" />
    <MudText Style="font-weight: bold; font-size: 16px" Color="Color.Primary">@_title</MudText>
    <MudSpacer />
    <MudStack Row="true" Justify="Justify.Center" AlignItems="AlignItems.Center">
        <!-- <MudTooltip Text="@Enum.GetName(AuthService.CurrentUser.Role)"> -->
        <MudTooltip Text="Admin">
            <!-- <MudChip Icon="@Icons.Material.Filled.AccountCircle" Color="@(AuthService.CurrentUser.Role == UserRole.Admin ? Color.Warning : Color.Default)"> -->
            <MudChip T="string" Icon="@Icons.Material.Filled.AccountCircle" Color="@Color.Default">
                <!-- <MudText Typo="Typo.body1">@AuthService.CurrentUser.FullName</MudText> -->
                <MudText Typo="Typo.body1">Test</MudText>
            </MudChip>
        </MudTooltip>
        <SyncDataButton />
        <DarkModeButton />
        <LogoutButton />
    </MudStack>
</MudAppBar>
<MudDrawer @bind-Open="@_drawerOpen">
    <NavMenu />
</MudDrawer>
<MudMainContent>
    <CascadingValue Value="SetAppBarTitle">
        @Body
    </CascadingValue>
</MudMainContent>